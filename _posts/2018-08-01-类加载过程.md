## 类加载过程

#### 1.类加载时机:

> 加载--> 验证-->准备-->解析—>初始化-->使用—>卸载

##### 初始化的触发时机（主动引用）：

> - new一个新对象，或者调用这个类的静态方法或静态参数时。
> - 对类进行反射调用时
> - 初始化一个类，发现其父类还没有初始化时
> - 当虚拟机启动时，用户指定了一个主类，发现其主类还没有进行初始化时。

#### 2.类的加载过程：

##### 2.1加载 

**所完成的事情**

> 1. 通过一个类的全限定名来获取定义此类的二进制字节流。
> 2. 将这个字节流转化为方法区的运行时数据结构
> 3. 在内存中生成一个代表这个类的java.lang.Class对象。

##### 2.2验证

**验证内容**

> 1. 文件格式验证（流—>方法区的数据结构）
> 2. 元数据验证
> 3. 字节码验证
> 4. 符号引用验证

##### 2.3准备

> 为类变量分配内存并设置类变量初始值的阶段。

##### 2.4解析

> 将符号引用替换为直接引用的过程。

##### 2.5初始化

> 执行构造器的过程