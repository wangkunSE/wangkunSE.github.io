## Java 计算两个日期的间隔天数

> 两个日期的间隔天数应用场景很多，自己一开始写得是使用两个日期的毫秒数之差再除以一天的毫秒数算出天数，但是这种方法获得的值会出现不准确的问题。因此查了查实现方式，发现了**LocalDate**类。

```java
package com.youdao.adapmathserver.util;

import java.time.LocalDate;
import java.util.Calendar;

/**
 * @author wangkunwk
 * @version 2019/11/14
 */
public class DateUtil {

    public static long getDays(Long start, Long end) {
        if (end < start) {
            return 0L;
        }
        Calendar startCalender = Calendar.getInstance();
        startCalender.setTimeInMillis(start);
        Calendar endCalender = Calendar.getInstance();
        endCalender.setTimeInMillis(end);
        LocalDate startDate = getLocalDateFromCalender(startCalender);
        LocalDate endDate = getLocalDateFromCalender(endCalender);
        return startDate.until(endDate).getDays();
    }

    private static LocalDate getLocalDateFromCalender(Calendar calender) {
        //这里有坑，Calender的month从0开始11结束 。 LocalDate的month从1~12。 所以要+1
        return LocalDate.of(calender.get(Calendar.YEAR), calender.get(Calendar.MONTH)+1, calender.get(Calendar.DAY_OF_MONTH));
    }
}

```

